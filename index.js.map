{"version":3,"file":"./index.js","mappings":"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","sources":["webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./scripts/lib/welcome.js","webpack:///./scripts/settings.js","webpack:///./scripts/main.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import {MODULE_ID} from \"../main.js\";\n\nconst SHOWN_KEY = \"chat-welcome-message-shown\";\n\nexport function showWelcome() {\n    if (!game.user.isGM) return;\n    const module = game.modules.get(MODULE_ID);\n    const VIDEO_ID = \"2Iq_so_GsLA\";\n    const EMBEDDED_VIDEO = `<iframe width=\"100%\" height=\"auto\" src=\"https://www.youtube.com/embed/${VIDEO_ID}\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n    const WIKI_URL = module.protected ? `https://wiki.theripper93.com/premium/${MODULE_ID}` : `https://wiki.theripper93.com/free/${MODULE_ID}`;\n    const MESSAGE = `<h1>${module.title}</h1>\n    <p>by <a href=\"https://theripper93.com\">theripper93</a></p>\n    <p><strong>New to ${module.title}? Visit the <a href=\"${WIKI_URL}\">Wiki</a> for a quickstart guide and resources.</strong></p>\n    ${VIDEO_ID ? EMBEDDED_VIDEO : \"\"}\n    <p>Special thanks to all my <a href=\"https://www.patreon.com/theripper93\">Patreons</a> for making ongoing updates and development possible. Supporting gives you access to <strong>30+ premium modules</strong> and <strong>priority support</strong>.</p>\n    <p><strong>Explore all resources and modules:</strong></p> <ul>\n    <li><a href=\"https://theripper93.com/\">Check out all my free and premium modules</a></li>\n    <li><a href=\"${WIKI_URL}\">${module.title} Wiki</a></li>\n    <li><a href=\"https://www.patreon.com/theripper93\">Support on Patreon</a></li>\n    <li><a href=\"https://discord.theripper93.com/\">Discord Channel</a></li>\n    </ul>`;\n\n\n    game.settings.register(MODULE_ID, SHOWN_KEY, {\n        default: false,\n        type: Boolean,\n        scope: \"world\",\n        config: false,\n    });\n\n    if (!game.settings.get(MODULE_ID, SHOWN_KEY)) {\n\n        ChatMessage.create({\n            user: game.user.id,\n            whisper: game.users.filter(u => u.isGM).map(u => u.id),\n            blind: true,\n            content: MESSAGE,\n        });\n\n        game.settings.set(MODULE_ID, SHOWN_KEY, true);\n    }\n}","import {MODULE_ID} from \"./main.js\";\r\n\r\nconst SETTING_CACHE = {};\r\nconst DEFAULT_CACHE = false;\r\n\r\nexport function registerSettings() {\r\n    const settings = {};\r\n\r\n    registerSettingsArray(settings);\r\n}\r\n\r\nexport function getSetting(key) {\r\n    return SETTING_CACHE[key] ?? game.settings.get(MODULE_ID, key);\r\n}\r\n\r\nexport async function setSetting(key, value) {\r\n    return await game.settings.set(MODULE_ID, key, value);\r\n}\r\n\r\nfunction registerSettingsArray(settings) {\r\n    for (const [key, value] of Object.entries(settings)) {\r\n        if (!value.name) value.name = `${MODULE_ID}.settings.${key}.name`\r\n        if (!value.hint) value.hint = `${MODULE_ID}.settings.${key}.hint`\r\n        if (value.useCache === undefined) value.useCache = DEFAULT_CACHE;\r\n        if (value.useCache) {\r\n            const unwrappedOnChange = value.onChange;\r\n            if (value.onChange) value.onChange = (value) => {\r\n                SETTING_CACHE[key] = value;\r\n                if (unwrappedOnChange) unwrappedOnChange(value);\r\n            }\r\n        }\r\n        game.settings.register(MODULE_ID, key, value);\r\n        if(value.useCache) SETTING_CACHE[key] = getSetting(key);\r\n    }\r\n}","import {initConfig} from \"./config.js\";\r\nimport {showWelcome} from \"./lib/welcome.js\";\r\nimport { registerSettings } from \"./settings.js\";\r\n\r\nexport const MODULE_ID = \"module-id\";\r\n\r\nHooks.on(\"init\", () => {\r\n    registerSettings();\r\n});\r\n\r\nHooks.on(\"ready\", () => {\r\n    showWelcome();\r\n    initConfig();\r\n});"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","SHOWN_KEY","_slicedToArray","arr","i","_arrayWithHoles","Array","isArray","_iterableToArrayLimit","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","length","err","_unsupportedIterableToArray","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","from","test","_nonIterableRest","TypeError","len","arr2","SETTING_CACHE","DEFAULT_CACHE","registerSettings","registerSettingsArray","settings","_loop","_Object$entries$_i","_Object$entries","concat","MODULE_ID","hint","undefined","useCache","unwrappedOnChange","onChange","game","register","getSetting","_SETTING_CACHE$key","entries","Hooks","on","showWelcome","user","isGM","module","modules","VIDEO_ID","EMBEDDED_VIDEO","WIKI_URL","MESSAGE","title","default","type","Boolean","scope","config","ChatMessage","create","id","whisper","users","filter","u","map","blind","content","set"],"sourceRoot":""}